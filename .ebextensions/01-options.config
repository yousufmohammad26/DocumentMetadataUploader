option_settings:
  # Environment variables
  aws:elasticbeanstalk:application:environment:
    NODE_ENV: production
    PORT: 8080

  # Use latest Node.js platform
  aws:elasticbeanstalk:platform:
    PlatformBranchLifecycleState: latest

  # Configure instance
  aws:autoscaling:launchconfiguration:
    InstanceType: t2.micro
    
  # Configure web server
  aws:elasticbeanstalk:environment:proxy:
    ProxyServer: nginx

  # Set up static files
  aws:elasticbeanstalk:environment:proxy:staticfiles:
    /static: /dist
    /public: /dist