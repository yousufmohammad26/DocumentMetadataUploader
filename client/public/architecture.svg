<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="800" height="500" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Gradient for AWS S3 -->
    <linearGradient id="s3-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#2E27AD;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#527FFF;stop-opacity:1" />
    </linearGradient>
    
    <!-- Gradient for React -->
    <linearGradient id="react-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#61DAFB;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2D8EFF;stop-opacity:1" />
    </linearGradient>
    
    <!-- Gradient for Node.js -->
    <linearGradient id="node-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#43853d;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#68a063;stop-opacity:1" />
    </linearGradient>
    
    <!-- Gradient for Database -->
    <linearGradient id="db-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FF6B6B;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#FF8E53;stop-opacity:1" />
    </linearGradient>
    
    <!-- Gradient for title -->
    <linearGradient id="title-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#3694FF;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7734EA;stop-opacity:1" />
    </linearGradient>
    
    <!-- Arrow Marker -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="500" fill="#F5F7FF" rx="8" ry="8" />
  
  <!-- Title -->
  <text x="400" y="40" font-family="Arial, sans-serif" font-size="24" text-anchor="middle" fill="url(#title-gradient)" font-weight="bold">Document Metadata Manager - Architecture</text>
  
  <!-- Client Side - React Application -->
  <g transform="translate(150, 120)">
    <rect width="200" height="120" rx="8" ry="8" fill="white" stroke="#ddd" stroke-width="2"/>
    <rect width="200" height="40" rx="8" ry="8" fill="url(#react-gradient)" />
    <text x="100" y="25" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="white" font-weight="bold">React Frontend</text>
    
    <!-- Components -->
    <g transform="translate(20, 50)">
      <rect width="160" height="20" rx="4" ry="4" fill="#e6f7ff" stroke="#91d5ff" stroke-width="1"/>
      <text x="80" y="15" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#0050b3">Document Upload</text>
      
      <rect y="25" width="160" height="20" rx="4" ry="4" fill="#e6f7ff" stroke="#91d5ff" stroke-width="1"/>
      <text x="80" y="40" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#0050b3">Metadata Management</text>
      
      <rect y="50" width="160" height="20" rx="4" ry="4" fill="#e6f7ff" stroke="#91d5ff" stroke-width="1"/>
      <text x="80" y="65" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#0050b3">Document Preview</text>
    </g>
  </g>
  
  <!-- Server - Express.js -->
  <g transform="translate(450, 120)">
    <rect width="200" height="120" rx="8" ry="8" fill="white" stroke="#ddd" stroke-width="2"/>
    <rect width="200" height="40" rx="8" ry="8" fill="url(#node-gradient)" />
    <text x="100" y="25" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="white" font-weight="bold">Express.js Backend</text>
    
    <!-- API Routes -->
    <g transform="translate(20, 50)">
      <rect width="160" height="20" rx="4" ry="4" fill="#f6ffed" stroke="#b7eb8f" stroke-width="1"/>
      <text x="80" y="15" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#135200">Document API</text>
      
      <rect y="25" width="160" height="20" rx="4" ry="4" fill="#f6ffed" stroke="#b7eb8f" stroke-width="1"/>
      <text x="80" y="40" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#135200">Metadata API</text>
      
      <rect y="50" width="160" height="20" rx="4" ry="4" fill="#f6ffed" stroke="#b7eb8f" stroke-width="1"/>
      <text x="80" y="65" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#135200">S3 Integration</text>
    </g>
  </g>
  
  <!-- AWS S3 -->
  <g transform="translate(450, 300)">
    <rect width="200" height="100" rx="8" ry="8" fill="white" stroke="#ddd" stroke-width="2"/>
    <rect width="200" height="40" rx="8" ry="8" fill="url(#s3-gradient)" />
    <text x="100" y="25" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="white" font-weight="bold">AWS S3</text>
    
    <!-- S3 Buckets -->
    <g transform="translate(20, 50)">
      <rect width="160" height="20" rx="4" ry="4" fill="#f0f5ff" stroke="#adc6ff" stroke-width="1"/>
      <text x="80" y="15" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#002766">Document Storage</text>
      
      <rect y="25" width="160" height="20" rx="4" ry="4" fill="#f0f5ff" stroke="#adc6ff" stroke-width="1"/>
      <text x="80" y="40" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#002766">Metadata (Object Properties)</text>
    </g>
  </g>
  
  <!-- In-Memory Database -->
  <g transform="translate(150, 300)">
    <rect width="200" height="100" rx="8" ry="8" fill="white" stroke="#ddd" stroke-width="2"/>
    <rect width="200" height="40" rx="8" ry="8" fill="url(#db-gradient)" />
    <text x="100" y="25" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="white" font-weight="bold">In-Memory Storage</text>
    
    <!-- Database contents -->
    <g transform="translate(20, 50)">
      <rect width="160" height="20" rx="4" ry="4" fill="#fff2e8" stroke="#ffbb96" stroke-width="1"/>
      <text x="80" y="15" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#873800">Document Metadata</text>
      
      <rect y="25" width="160" height="20" rx="4" ry="4" fill="#fff2e8" stroke="#ffbb96" stroke-width="1"/>
      <text x="80" y="40" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#873800">Document References</text>
    </g>
  </g>
  
  <!-- Flow Arrows -->
  <!-- React to Express -->
  <line x1="350" y1="180" x2="450" y2="180" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" />
  <text x="400" y="170" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">API Requests</text>
  
  <!-- Express to React -->
  <line x1="450" y1="200" x2="350" y2="200" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" />
  <text x="400" y="220" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">JSON Responses</text>
  
  <!-- Express to S3 -->
  <line x1="550" y1="240" x2="550" y2="300" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" />
  <text x="565" y="270" font-family="Arial, sans-serif" font-size="12" text-anchor="start">Store/Retrieve Files</text>
  
  <!-- Express to In-Memory DB -->
  <line x1="450" y1="180" x2="250" y2="300" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" />
  <text x="310" y="260" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">Cache Metadata</text>
  
  <!-- Legend -->
  <g transform="translate(600, 440)">
    <rect width="180" height="50" rx="4" ry="4" fill="white" stroke="#ddd" stroke-width="1"/>
    <text x="10" y="20" font-family="Arial, sans-serif" font-size="12" fill="#333">● Data Flow</text>
    <text x="10" y="40" font-family="Arial, sans-serif" font-size="12" fill="#333">● API Integration</text>
  </g>

  <!-- Footer -->
  <text x="400" y="480" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#555">© Document Metadata Manager - Powered by AWS S3</text>
</svg>